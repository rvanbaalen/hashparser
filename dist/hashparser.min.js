var e=Object.defineProperty,a=(a,t,s)=>((a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s)(a,"symbol"!=typeof t?t+"":t,s);class t{constructor({encoded:e=!1,sync:t=!0}={}){a(this,"_encoded"),this._encoded=e,this._readHash(),t&&window.addEventListener("hashchange",(()=>this._readHash()),!1)}static get encoded(){return new t({encoded:!0})}get encoded(){return new t({encoded:!0})}_encode(e){return btoa(JSON.stringify(e))}_decode(e){return JSON.parse(atob(e))}_readHash(){this.params=new URLSearchParams(window.location.hash.replace(/^#/g,""))}get(e,a){const t=this.params.get(e);return null===t?a:this._encoded?this._decode(t):decodeURIComponent(t)}set(e,a){a=this._encoded?this._encode(a):encodeURIComponent(a),this.params.set(e,a),this.updateHash()}delete(e){this.params.delete(e),this.updateHash()}clear(){this.params=new URLSearchParams,this.updateHash()}has(e){return this.params.has(e)}updateHash(){0!==Array.from(this.params).length?window.location.hash=`#${this.params.toString()}`:window.history.replaceState(null,null,window.location.pathname+window.location.search)}}export{t as HashParser,t as default};
